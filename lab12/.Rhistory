knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(tidyverse)
library(here)
library(janitor)
library(lubridate)
library(tidyverse)
library(here)
library(janitor)
library(lubridate)
files <- list.files(path = "data/spiders", pattern = ".csv")
files
files <- list.files(path = "data/spiders", pattern = ".csv", full.names = TRUE)
files
spider_list <- lapply(files, read_csv)
View(spider_list)
spider_list[[3]]
class(spider_list[[3]])
spider_list[[4]]
class(spider_list[[3]])
glimpse(spider_list)
glimpse(spider_list[[4]])
glimpse(spider_list[[1]])
names <- list.files(path = "data/spiders", pattern = ".csv")
names
names_list <- strsplit(names, split = " .csv")
names_list
names_vec <- unlist(names_list)
names_vec
names(spider_list) <- names_vec
names(spider_list)
glimpse(spider_list[["Butte"]])
spider_list$Napa
spiders_all <- bind_rows(spider_list)
spiders_all
table_A <- read_csv(here("lab12", "data", "table_A.csv"))
table_B <- read_csv(here("lab12", "data", "table_B.csv"))
View(table_A)
View(table_B)
View(table_A)
names(table_A)
names(table_B)
inner_exampleDF <- inner_join(table_A, table_B, by="customer_ID")
inner_exampleDF
left_exampleDF <- left_join(table_A, table_B, by="customer_ID")
left_exampleDF
right_exampleDF <- right_join(table_A, table_B, by="customer_ID")
right_exampleDF
semi_exampleDF <- semi_join(table_A, table_B, by="customer_ID")
semi_exampleDF
anti_exampleDF <- anti_join(table_A, table_B, by="customer_ID")
anti_exampleDF
spiders_locs <- read_csv("data/spiders locations/spiders_locations.csv")
spiders_locs
spiders_all_locs
spiders_all_locs <- full_join(spiders_all, spiders_locs, by="Accession")
spiders_all_locs
View(spiders_all_locs)
class(spiders_with_locs$Date)
class(spiders_all_locs$Date)
day <- today()
day
str(day)
datetime <- now()
datetime
dmy(spiders_with_locs$Date)
dmy(spiders_all_locs$Date)
as.Date(spiders_with_locs$Date, format = "%d/%m/%y")
as.Date(spiders_all_locs$Date, format = "%d/%m/%y")
dmy(dateformat1)
dateformat1 <- "20200922"
dateformat2 <- "09-22-2020"
dateformat3 <- "22/09/2020"
dateformat4 <- "09-22-2020 17:00:00"
dateformat5 <- "20200922 170000"
dmy(dateformat1)
dmy(dateformat1)
ymd(dateformat1)
mdy(dateformat2)
dmy(dateformat3)
mdy_hms(dateformat4)
ymd_hms(dateformat5)
spiders_with_locs <- full_join(spiders_all, spiders_locs, by="Accession")
write.csv(spiders_with_locs, file = "spiders_with_locs.csv", row.names = FALSE)
install.packages("devtools")
library(devtools)
devtools::install_github("dkahle/ggmap")
install.packages("devtools")
library(devtools)
devtools::install_github("dkahle/ggmap")
install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
#install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
#install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
install.packages(c("clipr", "evaluate", "tinytex", "yaml"))
install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
install.packages("remotes")
#install.packages("remotes")
remotes::install_github("hrbrmstr/albersusa")
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
#install.packages("devtools")
library(devtools)
#devtools::install_github("dkahle/ggmap")
#install.packages("devtools")
library(devtools)
#devtools::install_github("dkahle/ggmap")
#install.packages("devtools")
library(devtools)
#devtools::install_github("dkahle/ggmap")
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>% clean_names()
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>%
clean_names()
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>%
clean_names()
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
library(dplyr)
library(tidyverse)
library(here)
library(janitor)
library(ggmap)
library(dplyr)
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>%
clean_names()
spiders <- spiders %>% filter(latitude<=42)
spiders %>%
select(latitude, longitude) %>%
summary()
lat <- c(34.67, 41.80)
long <- c(-124.1, -115.5)
bbox <- make_bbox(long, lat, f = 0.05)
map1 <- get_map(bbox, maptype = "terrain", source = "stamen")
lat <- c(34.67, 41.80)
long <- c(-124.1, -115.5)
bbox <- make_bbox(long, lat, f = 0.05)
map1 <- get_map(bbox, maptype = "terrain", source = "stamen")
ggmap(map1)
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude)) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
View(spiders)
map1 <- get_map(bbox, maptype = "toner", source = "stamen")
ggmap(map1)
map1 <- get_map(bbox, maptype = "toner-hybrid", source = "stamen")
ggmap(map1)
map1 <- get_map(bbox, maptype = "terrain-lines", source = "stamen")
ggmap(map1)
map1 <- get_map(bbox, maptype = "watercolor", source = "stamen")
ggmap(map1)
ggmap(map1) +
geom_point(data = spiders, aes(longitude, latitude)) +
labs(x = "Longitude", y = "Latitude", title = "Spider Locations")
ggmap(map1)+
geom_point(data = spider, alpha=0.6, aes(longitude, latitude))
ggmap(map1)+
geom_point(data = spiders, alpha=0.6, aes(longitude, latitude))
library(albersusa)
us_comp <- usa_sf() # get a composite map of the USA
cnty_comp <- counties_sf() # get a composite map of USA counties
View(cnty_comp)
cnty_comp <- counties_sf() # get a composite map of USA counties
ggplot() +
geom_sf(data = us_comp, size = 0.125) +
theme_linedraw()+
labs(title = "USA State Boundaries")
ca_comp <- us_comp %>%
filter(name=="California")
ca_cnty_comp <- cnty_comp %>%
filter(state=="California")
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude))
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude), size=0.8)+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3)) -> uso_map
uso_map
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude), size=0.8)+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3)) -> uso_map
uso_map
ggplot() +
geom_sf(data = ca_comp, size = 0.125)+
geom_sf(data = ca_cnty_comp, size = 0.125)+
geom_point(data = spiders, aes(longitude, latitude), size=0.8)+
labs(x = "Figure 1: Distribution of Usofila spiders")+
theme_minimal() +
theme(axis.text = element_blank()) +
theme(axis.title.x = element_text(hjust=0.5, size = 10)) +
theme(axis.title.y = element_blank()) +
theme(panel.grid = element_blank()) +
theme(legend.position = c(0.9, 0.3)) -> uso_map
uso_map
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(ggmap)
library(albersusa)
library(dplyr)
grizzly <- readr::read_csv("data/bear-sightings.csv")
View(grizzly)
grizzly %>%
filter(longitude, latitude) %>%
summary()
grizzly %>%
select(longitude, latitude) %>%
summary()
spiders <- spiders %>% filter(latitude<=42)
spiders <- read_csv(here("lab12", "data", "spiders_with_locs.csv")) %>%
clean_names()
spiders <- spiders %>% filter(latitude<=42)
spiders %>%
select(latitude, longitude) %>%
summary()
grizzly_bbox <- make_bbox(grizzly_long, grizzly_lat)
grizzly_lat <- c(55.02, 70.37)
grizzly_long <- c(-166.2, -131.3)
#grizzly_bbox <- make_bbox(grizzly_long, grizzly_lat)
grizzly_bbox <- make_bbox(grizzly_long, grizzly_lat)
grizzly_map <- get_map(grizzly_bbox, maptype = "terrain", source = "stamen")
ggmap(grizzly_map)
ggmap(grizzly_map)+
geom_point(data = grizzly, aes(longitude, latitude), alpha = 0.6)+
labs(x="Longitude",
y="Latitude",
title = "Bear Locations")
wolves <- readr::read_csv("data/wolves_data/wolves_dataset.csv")
View(wolves)
wolves %>%
count(pop)
wolves_usa <- wolves %>%
filter(pop == "AK.PEN" | pop == "DENALI" | pop == "INT.AK" | pop == "YUCH" | pop == "SE AK" | pop == "MT" | pop == "YNP" | pop == "GTNP" | pop == "SNF" | pop == "MI")
View(wolves_usa)
wolves_usa <- wolves %>%
filter(pop == "AK.PEN" | pop == "DENALI" | pop == "INT.AK" | pop == "YUCH" | pop == "SE AK" | pop == "MT" | pop == "YNP" | pop == "GTNP" | pop == "SNF" | pop == "MI") %>%
summary()
wolves_usa <- wolves %>%
filter(pop == "AK.PEN" | pop == "DENALI" | pop == "INT.AK" | pop == "YUCH" | pop == "SE AK" | pop == "MT" | pop == "YNP" | pop == "GTNP" | pop == "SNF" | pop == "MI")
wolves_usa <- wolves %>%
filter(pop == "AK.PEN" | pop == "DENALI" | pop == "INT.AK" | pop == "YUCH" | pop == "SE AK" | pop == "MT" | pop == "YNP" | pop == "GTNP" | pop == "SNF" | pop == "MI")
wolves_usa %>% summary()
count(wolves_usa$pop)
wolves_usa %>%
count(pop)
us_comp <- usa_sf()
county_comp <- counties_sf()
View(county_comp)
ggplot() +
geom_sf(data = us_comp, size = 0.125) +
theme_linedraw()+
labs(title = "USA State Boundaries")
ggplot() +
geom_sf(data = us_comp, size = 0.125) +
theme_linedraw()+
labs(title = "USA State Boundaries")
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(longitude, latitude), alpha = 0.6)+
theme_linedraw()+
labs(title = "USA State Boundaries")
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(standard.longitude, standard.latitude), alpha = 0.6)+
theme_linedraw()+
labs(title = "USA State Boundaries")
ggplot()+
geom_sf(data = us_comp) +
geom_point(data = wolves_usa, aes(standard.longitude, standard.latitude), alpha = 0.6)+
theme_linedraw()+
labs(title = "USA State Boundaries")
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), alpha = 0.6)+
theme_linedraw()+
labs(title = "USA State Boundaries")
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat))+
theme_linedraw()+
labs(title = "USA State Boundaries")
wolves_usa <- wolves %>%
filter(long >= -130 & long <= -60) %>%
filter(lat >= 20 & lat <= 50)
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat))+
theme_linedraw()+
labs(title = "USA State Boundaries")
wolves %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T))
wolves %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T)) %>%
arrange(desc(avg_pack_size))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat))+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
wolves_usa %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T)) %>%
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat))+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
wolves_usa %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T)) %>%
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=avg_pack_size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
wolves_usa %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T))
wolves_usa %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T)) %>%
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=avg_pack_size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
wolves_usa_avg_pack_size <- wolves_usa %>%
group_by(pop) %>%
summarize(avg_pack_size = mean(pack.size, na.rm=T))
View(wolves_usa_avg_pack_size)
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=avg_pack_size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
wolves_usa_avg_pack_size %>%
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=avg_pack_size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
wolves_usa_avg_pack_size %>%
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=avg_pack_size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=pack.size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=wolves_usa$pack.size)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=wolves_usa$pack.size, alpha=0.6)+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=wolves_usa$pack.size, alpha=0.6, color="blue")+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=wolves_usa$pack.size, alpha=0.4, color="blue")+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, alpha = 0.4, aes(long, lat), size=wolves_usa$pack.size, color="blue")+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, alpha = 0.5, aes(long, lat), size=wolves_usa$pack.size, color="blue")+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
ggplot()+
geom_sf(data = us_comp, size = 0.125) +
geom_point(data = wolves_usa, aes(long, lat), size=wolves_usa$pack.size, color="blue")+
theme_linedraw()+
labs(x = "Longitude",
y = "Latitude",
title = "USA State Boundaries")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
